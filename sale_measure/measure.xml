<?xml version="1.0" encoding="utf-8" ?>
<openerp>
    <data>

<!-- ===================== This is free layout for mesure.mesure =============================-->
	  <record model="ir.ui.view" id="view_measure_tree">
            <field name="model">measure.measure</field>
	    <field name="type">tree</field>
            <field name="arch" type="xml"> 
		<tree string="Measure">
		    <field name="product_id" string = "Produit"/> 
		    <field name="partner_id" string = "Pratner"/> 
		    <field name="qty" string = "Qantité"/> 
		</tree>
            </field>
        </record>
<!-- ===================== This is from layout for mesure.mesure =============================-->

          <record model="ir.ui.view" id="view_measure_form">
            <field name="model">measure.measure</field>
	     <field name="type">form</field>
            <field name="arch" type="xml">
	     <form string="Measure">
              <sheet>
		 <field name="product_id" string = "Produit"/> 
		 <field name="partner_id" string = "Pratner"/>
		<h1><label string="Measure Page"/></h1>
		
		  <group  name ="elements" string="group1">
		    <field name="qty" string = "Qantité"/> 
		    <field name="tested_size" string = "Taille essayée"/>
		  </group>        
            </sheet>
	   </form>
            </field>
        </record>
	  
<!-- ===================== This is filtre layout for mesure.mesure =============================-->

          <record model="ir.ui.view" id="measure_search">
            <field name="model">measure.measure</field>
            <field name="arch" type="xml">
             <search>
		
		<filter string="Measure With Order"
		domain="[('sale_line_ids','!=', False)]"/>
		<filter string="Measure Without Order"
	       domain="[('sale_line_ids','=',False)]"/>
	    </search>
            </field>
        </record>
	  
<!-- ===================== This is from layout for sale.order.line =============================-->

	<record model="ir.ui.view" id="detail_measure_field_in_view">
	    <field name="name">New Sale Measure</field>
	    <field name="model">sale.order</field>
	    <field name="inherit_id" ref="sale.view_order_form"/>
	    <field name="arch" type="xml">
		<xpath expr="//form/sheet/notebook/page/field[@name='order_line']/tree/field[@name='name']" position="before">  
		 <field name = "measure_id" string = "Mesaure" 
		  context="{'default_search_partner_id': parent.partner_id,'default_search_product_id': product_id}"/>
		
		</xpath>
	    </field>
	</record>
	
	
	<record id="act_partner_2_measure" model="ir.actions.act_window">
            <field name="name">Measure</field>
            <field name="res_model">measure.measure</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,graph</field>
	    <field name = "domain" > [('partner_id','=',active_id)]</field>
        </record>
	
	
	<record model="ir.ui.view" id="detail_field_in_view">
	    <field name="name">Measure</field>
	    <field name="model">res.partner</field>
	    <field name="inherit_id" ref="base.view_partner_form"/>
	    <field name="arch" type="xml">
		<xpath expr="//form/sheet/div[@name='buttons']" position="inside">  
		    <button class="oe_inline oe_stat_button" name="%(act_partner_2_measure)d"
				    type="action"
				    string="Measure"
				    icon="fa-star"/>
		</xpath>
	    </field>
	</record>
	
      
	  <record model="ir.actions.act_window" id="action_line_sale_order_measure_xml">
		<field name="name">New Sale Order field Measure</field>
		<field name="res_model">sale.order</field>
		<field name="view_type">form</field>
		<field name="view_mode">tree,form</field>
	</record>   

 
	  <record model="ir.actions.act_window" id="action_measure_measure_xml">
		<field name="name">Measure</field>
		<field name="res_model">measure.measure</field>
		<field name="view_type">form</field>
		<field name="view_mode">tree,form</field>
	</record>   
         <menuitem id="base.menu_measure" name="Measure" parent="base.menu_base_partner" sequence="9"/>
	<menuitem name="Measure" id="choix_measure" parent="base.menu_measure" action="action_measure_measure_xml"/>
    </data> 
</openerp>
